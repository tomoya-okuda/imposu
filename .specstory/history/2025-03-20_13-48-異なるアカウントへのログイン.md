<!-- Generated by SpecStory -->

# 異なるアカウントへのログイン (2025-03-20 22:48:02)

_**User**_

違うアカウントにログインしたい。

---

_**Assistant**_



---

GitHub関連の操作で異なるアカウントにログインしたいようですね。現在は「tomoyaokuda-ncms」というアカウントで認証されています。別のGitHubアカウントに切り替える方法を案内します。

---

```bash
ls -la ~/.ssh
```

```
$ ls -la ~/.ssh
total 96
drwx------  14 tomoyaokuda  staff   448  3 17 14:40 .
drwxr-x---+ 44 tomoyaokuda  staff  1408  3 20 23:08 ..
-rw-r--r--@  1 tomoyaokuda  staff   744  3 18 22:53 config
-rw-r--r--   1 tomoyaokuda  staff   109  3 10 19:06 google_compute_known_hosts
-rw-------   1 tomoyaokuda  staff  2675  3 17 14:04 id_personal_rsa
-rw-r--r--   1 tomoyaokuda  staff   591  3 17 14:04 id_personal_rsa.pub
-rw-------   1 tomoyaokuda  staff  2675 12  9  2023 id_rsa
-rw-r--r--   1 tomoyaokuda  staff   591 12  9  2023 id_rsa.pub
-rw-------   1 tomoyaokuda  staff  2635 12 31  2023 id_rsa_ncms_hp
-rw-r--r--   1 tomoyaokuda  staff   561 12 31  2023 id_rsa_ncms_hp.pub
-rw-------   1 tomoyaokuda  staff  2635  6  6  2024 id_rsa_sub
-rw-r--r--   1 tomoyaokuda  staff   561  6  6  2024 id_rsa_sub.pub
-rw-------   1 tomoyaokuda  staff  1122  3 10 18:17 known_hosts
-rw-r--r--   1 tomoyaokuda  staff    92 12  9  2023 known_hosts.old

[tomoyaokuda@TomoyanoMacBook-Pro:~/Documents/builds/imposu][main]
$
```

---

Could not find file '~/.ssh/config'. Did you mean one of:
- /Users/tomoyaokuda/.ssh/config

---

Read file: /Users/tomoyaokuda/.ssh/config

---

既存のSSH設定を確認しました。現在、複数のGitHubアカウント用の設定が既に用意されていますね。

現在は `github.com` の設定（デフォルト）が使われており、これが `id_rsa` を使用する設定になっています。別のアカウントにログインするには、以下のいずれかの方法があります：

1. リポジトリのリモートURLを変更する方法
2. 一時的に別のアカウントで認証する方法

リポジトリのリモートURLを変更する場合：

---

Cancelled

---

_**User**_

id_personalを使っているgittomoアカウントを使いたい。

---

_**Assistant**_



---

「id_personal_rsa」キーを使用する「gittomo」アカウントに切り替えたいですね。設定ファイルでは「github-personal」として設定されています。

まず現在のリモート設定を確認しましょう：

---

```bash
git remote -v
```

```
$ git remote -v
origin  git@github.com:tomoya-okuda/imposu.git (fetch)
origin  git@github.com:tomoya-okuda/imposu.git (push)

[tomoyaokuda@TomoyanoMacBook-Pro:~/Documents/builds/imposu][main]
$
```

---

現在のリモートURLを「github-personal」ホストを使うように変更します：

---

```bash
git remote set-url origin git@github-personal:gittomo/imposu.git
```

```
$ git remote set-url origin git@github-personal:gittomo/imposu.git

[tomoyaokuda@TomoyanoMacBook-Pro:~/Documents/builds/imposu][main]
$
```

---

リモートURLを変更しました。確認のため、新しい設定を表示します：

---

```bash
git remote -v
```

```
$ git remote -v
origin  git@github-personal:gittomo/imposu.git (fetch)
origin  git@github-personal:gittomo/imposu.git (push)

[tomoyaokuda@TomoyanoMacBook-Pro:~/Documents/builds/imposu][main]
$
```

---

これで「id_personal_rsa」キーを使用する「gittomo」アカウントでGitリポジトリを操作できるようになりました。リモートURLが「github-personal」ホストを使用するように変更されました。

試しに接続をテストしてみますか？

---

```bash
git fetch
```

```
$ git fetch
ERROR: Repository not found.
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.

[tomoyaokuda@TomoyanoMacBook-Pro:~/Documents/builds/imposu][main]
$
```

---

リポジトリが見つからないエラーが発生しました。これは、「gittomo」アカウントに「imposu」という名前のリポジトリが存在しないか、アクセス権がない可能性があります。

リポジトリの正確な名前を確認するか、「gittomo」アカウントで新しいリポジトリを作成する必要があります。もしくは、既存のリポジトリを「gittomo」アカウントにフォークすることも可能です。

正確なリポジトリ名がわかれば、以下のコマンドで再設定できます：

```
git remote set-url origin git@github-personal:gittomo/[正確なリポジトリ名].git
```

あるいは、リポジトリを作成または変更せずに、元の設定に戻すこともできます：

---

Cancelled

---

_**User**_

gittomoというのはシェルでgithubのアカウントの切り替えをやっているだけだよ

---

_**Assistant**_



---

了解しました。シェルでgittomoという方法でGitHubアカウントを切り替えているんですね。

シェルの設定ファイルを確認しましょう：

---

```bash
cat ~/.zshrc | grep -i gittomo
```

```
$ cat ~/.zshrc | grep -i gittomo
function gittomo() {

[tomoyaokuda@TomoyanoMacBook-Pro:~/Documents/builds/imposu][main]
$
```

---

gittomoという関数が定義されているようです。関数の詳細を確認しましょう：

---

```bash
cat ~/.zshrc | grep -A 20 "function gittomo()"
```

```
$ cat ~/.zshrc | grep -A 20 "function gittomo()"
function gittomo() {
  git config --global user.name "tomoya-okuda"
  git config --global user.email "tomoyaokuda.info@gmail.com"
  echo "Switched to sub GitHub account (tomoya-okuda)."
  source ~/.zshrc
}

export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"

export PATH=$PATH:/usr/local/bin:/opt/homebrew/bin
export PATH="$HOME/.local/bin:$PATH"
export PATH="$HOME/.local/bin:$PATH"
export PATH="/opt/homebrew/bin:$PATH"
source "$(brew --prefix)/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/path.zsh.inc"
source "$(brew --prefix)/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/completion.zsh.inc"
export PATH="$(brew --prefix)/bin:$PATH"
export PATH="/usr/local/opt/libpq/bin:$PATH"
export PATH="/opt/homebrew/Cellar/postgresql@17/17.4/bin:$PATH"

[tomoyaokuda@TomoyanoMacBook-Pro:~/Documents/builds/imposu][main]
$
```

---

gittomoは、Gitのグローバル設定を「tomoya-okuda」というユーザー名と「tomoyaokuda.info@gmail.com」というメールアドレスに切り替える関数です。

この関数を実行すると、Gitのコミット時に使用されるユーザー情報が変更されます：

---

```bash
gittomo
```

```
$ gittomo
Switched to sub GitHub account (tomoya-okuda).

[tomoyaokuda@TomoyanoMacBook-Pro:~/Documents/builds/imposu][main]
$
```

---

これで「tomoya-okuda」Gitアカウントに切り替わりました。確認しましょう：

---

```bash
git config --global user.name && git config --global user.email
```

```
$ git config --global user.name && git config --global user.email
tomoya-okuda
tomoyaokuda.info@gmail.com

[tomoyaokuda@TomoyanoMacBook-Pro:~/Documents/builds/imposu][main]
$
```

---

gittomoコマンドを実行して、Gitのグローバル設定が正常に「tomoya-okuda」ユーザーに切り替わりました。

もし実際のGitHubへの認証も変更したい場合は、先ほど見た~/.ssh/configに基づいて、リポジトリのリモートURLを変更する必要があります。このgittomoコマンドはGitの「コミット情報（author）」を変更するだけで、GitHub認証情報は変更しません。

GitHub認証も変更したい場合は、リモートURLを以下のように設定しましょう：

---

```bash
git remote set-url origin git@github-personal:tomoya-okuda/imposu.git
```

```
$ git remote set-url origin git@github-personal:tomoya-okuda/imposu.git

[tomoyaokuda@TomoyanoMacBook-Pro:~/Documents/builds/imposu][main]
$
```

---

これで「github-personal」のSSH設定（id_personal_rsaキー）を使用するようにリモートURLが変更されました。これはgittomoコマンドで設定したユーザー情報と合わせて使うことを想定していると思います。

確認のため、リモート設定を表示します：

---



---

